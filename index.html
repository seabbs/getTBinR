<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Access and Summarise World Health Organization Tuberculosis Data â€¢ getTBinR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Access and Summarise World Health Organization Tuberculosis Data">
<meta property="og:description" content="Quickly and easily import analysis ready
    Tuberculosis (TB) burden data, from the World Health Organization
    (WHO), into R. The aim of getTBinR is to allow researchers, and other
    interested individuals, to quickly and easily gain access to a
    detailed TB data set and to start using it to derive key insights. It
    provides a consistent set of tools that can be used to rapidly
    evaluate hypotheses on a widely used data set before they are explored
    further using more complex methods or more detailed data. These tools
    include: generic plotting and mapping functions; a data dictionary
    search tool; an interactive shiny dashboard; and an automated, country
    level, TB report. For newer R users, this package reduces the barrier
    to entry by handling data import, munging, and visualisation. All
    plotting and mapping functions are built with ggplot2 so can be
    readily extended.">
<meta property="og:image" content="samabbott.co.uk/getTBinR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">getTBinR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="articles/intro.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Case Studies
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/case_study_global_trends.html">Exploring Global Trends in Tuberculosis Incidence Rates</a>
    </li>
    <li>
      <a href="articles/case_fatality_rate.html">Exploring Estimates of the Tuberculosis Case Fatality Ratio</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Dashboards
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="http://www.seabbs.co.uk/shiny/ExploreGlobalTB/">Explore Global Tuberculosis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://www.samabbott.co.uk/tags/who/">Blog posts</a>
    </li>
    <li class="divider">
    <li>
      <a href="news/index.html">Change log</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/seabbs/getTBinR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="gettbinr-access-and-summarise-world-health-organization-tuberculosis-data-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#gettbinr-access-and-summarise-world-health-organization-tuberculosis-data-" class="anchor"></a>getTBinR: Access and Summarise World Health Organization Tuberculosis Data <img src="reference/figures/logo.png" align="right" alt="" width="120">
</h1></div>

<p>Quickly and easily import analysis ready Tuberculosis (TB) burden data, from the World Health Organization (WHO), into R. The aim of <code>getTBinR</code> is to allow researchers, and other interested individuals, to quickly and easily gain access to a detailed TB data set and to start using it to derive key insights. It provides a consistent set of tools that can be used to rapidly evaluate hypotheses on a widely used data set before they are explored further using more complex methods or more detailed data. These tools include: generic plotting and mapping functions; a data dictionary search tool; an interactive shiny dashboard; and an automated, country level, TB report. For newer R users, this package reduces the barrier to entry by handling data import, munging, and visualisation. All plotting and mapping functions are built with <code>ggplot2</code> so can be readily extended. See <a href="http://www.who.int/about/copyright/en/">here</a> for the WHO data permissions. For help getting started see the <a href="https://www.samabbott.co.uk/getTBinR/articles/intro.html">Getting Started</a> vignette and for a case study using the package see the <a href="https://www.samabbott.co.uk/getTBinR/articles/case_study_global_trends.html">Exploring Global Trends in Tuberculosis Incidence Rates</a> vignette.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the CRAN version:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"getTBinR"</span>)</pre></div>
<p>Alternatively install the development version from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="co"># install.packages("devtools")</span>
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"seabbs/getTBinR"</span>)</pre></div>
</div>
<div id="documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h2>
<p><a href="https://www.samabbott.co.uk/getTBinR/"><img src="https://img.shields.io/badge/Documentation-release-lightgrey.svg?style=flat" alt="Documentation"></a> <a href="https://www.samabbott.co.uk/getTBinR/dev"><img src="https://img.shields.io/badge/Documentation-development-lightblue.svg?style=flat" alt="Development documentation"></a> <a href="https://www.samabbott.co.uk/getTBinR/articles/intro.html"><img src="https://img.shields.io/badge/Documentation-getting%20started-yellow.svg?style=flat" alt="Getting started"></a> <a href="https://www.samabbott.co.uk/getTBinR/reference/index.html"><img src="https://img.shields.io/badge/Documentation-functions-orange.svg?style=flat" alt="Functions"></a></p>
</div>
<div id="testing" class="section level2">
<h2 class="hasAnchor">
<a href="#testing" class="anchor"></a>Testing</h2>
<p><a href="https://travis-ci.org/seabbs/getTBinR"><img src="https://travis-ci.org/seabbs/getTBinR.svg?branch=master" alt="Travis-CI Build Status"></a> <a href="https://ci.appveyor.com/project/seabbs/getTBinR"><img src="https://ci.appveyor.com/api/projects/status/github/seabbs/getTBinR?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a> <a href="https://codecov.io/github/seabbs/getTBinR?branch=master"><img src="https://img.shields.io/codecov/c/github/seabbs/getTBinR/master.svg" alt="Coverage Status"></a></p>
</div>
<div id="quick-start" class="section level2">
<h2 class="hasAnchor">
<a href="#quick-start" class="anchor"></a>Quick start</h2>
<p>Lets get started quickly by mapping and then plotting TB incidence rates in the United Kingdom. First map the most recently available global TB incidence rates (this will also download and save both the TB burden data and its data dictionary, if they are not found locally, to Râ€™s temporary directory),</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/map_tb_burden.html">map_tb_burden</a></span>(<span class="kw">metric</span> <span class="kw">=</span> <span class="st">"e_inc_100k"</span>)</pre></div>
<p><img src="reference/figures/map-tb-incidence-eur-1.png"><!-- --></p>
<p>Then compare TB incidence rates in the UK to TB incidence rates in other countries in the region,</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/plot_tb_burden_overview.html">plot_tb_burden_overview</a></span>(<span class="kw">metric</span> <span class="kw">=</span> <span class="st">"e_inc_100k"</span>,
                                  <span class="kw">countries</span> <span class="kw">=</span> <span class="st">"United Kingdom"</span>,
                                  <span class="kw">compare_to_region</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></div>
<p><img src="reference/figures/plot-tb-incidence-eur-1.png"><!-- --></p>
<p>In order to compare the changes in incidence rates over time, in the region, plot the annual percentage change,</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/plot_tb_burden_overview.html">plot_tb_burden_overview</a></span>(<span class="kw">metric</span> <span class="kw">=</span> <span class="st">"e_inc_100k"</span>,
                                  <span class="kw">countries</span> <span class="kw">=</span> <span class="st">"United Kingdom"</span>,
                                  <span class="kw">compare_to_region</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
                                  <span class="kw">annual_change</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></div>
<p><img src="reference/figures/plot-tb-incidence-eur-per-1.png"><!-- --></p>
<p>Now plot TB incidence rates over time in the United Kingdom, compared to TB incidence rates in Europe and globally.</p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/plot_tb_burden_summary.html">plot_tb_burden_summary</a></span>(<span class="kw">metric</span> <span class="kw">=</span> <span class="st">"e_inc_num"</span>,
                                 <span class="kw">metric_label</span> <span class="kw">=</span> <span class="st">"e_inc_100k"</span>,
                                 <span class="kw">countries</span> <span class="kw">=</span> <span class="st">"United Kingdom"</span>,
                                 <span class="kw">compare_all_regions</span> <span class="kw">=</span> <span class="fl">FALSE</span>,
                                 <span class="kw">compare_to_region</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
                                 <span class="kw">compare_to_world</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></div>
<p><img src="reference/figures/plot-tb-incidence-uk-compare-1.png"><!-- --></p>
<p>We can repeat the above plot but this time only for the UK - this allows us to get a clear picture of trends in TB incidence rates in the UK.</p>
<div class="sourceCode" id="cb7"><pre class="r"><span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/plot_tb_burden.html">plot_tb_burden</a></span>(<span class="kw">metric</span> <span class="kw">=</span> <span class="st">"e_inc_100k"</span>,
                         <span class="kw">countries</span> <span class="kw">=</span> <span class="st">"United Kingdom"</span>)</pre></div>
<p><img src="reference/figures/plot-tb-incidence-uk-1.png"><!-- --></p>
<p>We might be interested in having some of this information in tablular form. We can either generate a short summary for the most recent year of available data with the following,</p>
<div class="sourceCode" id="cb8"><pre class="r"><span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/summarise_metric.html">summarise_metric</a></span>(<span class="kw">metric</span> <span class="kw">=</span> <span class="st">"e_inc_100k"</span>,
                           <span class="kw">countries</span> <span class="kw">=</span> <span class="st">"United Kingdom"</span>)
<span class="co">#&gt; # A tibble: 1 x 6</span>
<span class="co">#&gt;   country         year metric        world_rank region_rank avg_change</span>
<span class="co">#&gt;   &lt;chr&gt;          &lt;int&gt; &lt;chr&gt;              &lt;int&gt;       &lt;int&gt; &lt;chr&gt;     </span>
<span class="co">#&gt; 1 United Kingdom  2018 8 (7.2 - 8.8)        165          33 -5.9%</span></pre></div>
<p>Or a more detailed dataset as follows,</p>
<div class="sourceCode" id="cb9"><pre class="r"><span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/summarise_tb_burden.html">summarise_tb_burden</a></span>(<span class="kw">metric</span> <span class="kw">=</span> <span class="st">"e_inc_num"</span>,
                              <span class="kw">stat</span> <span class="kw">=</span> <span class="st">"rate"</span>,
                              <span class="kw">countries</span> <span class="kw">=</span> <span class="st">"United Kingdom"</span>,
                              <span class="kw">compare_to_world</span> <span class="kw">=</span> <span class="fl">FALSE</span>,
                              <span class="kw">compare_to_region</span> <span class="kw">=</span> <span class="fl">FALSE</span>)
<span class="co">#&gt; # A tibble: 133 x 5</span>
<span class="co">#&gt;    area            year e_inc_num e_inc_num_lo e_inc_num_hi</span>
<span class="co">#&gt;    &lt;fct&gt;          &lt;int&gt;     &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;</span>
<span class="co">#&gt;  1 United Kingdom  2000      11.9         10.7         13.1</span>
<span class="co">#&gt;  2 United Kingdom  2001      11.5         10.3         12.7</span>
<span class="co">#&gt;  3 United Kingdom  2002      13.1         11.8         14.3</span>
<span class="co">#&gt;  4 United Kingdom  2003      13.4         12.1         14.8</span>
<span class="co">#&gt;  5 United Kingdom  2004      13.2         11.9         14.5</span>
<span class="co">#&gt;  6 United Kingdom  2005      15.3         13.8         16.6</span>
<span class="co">#&gt;  7 United Kingdom  2006      15.3         13.8         16.4</span>
<span class="co">#&gt;  8 United Kingdom  2007      14.6         13.2         16.1</span>
<span class="co">#&gt;  9 United Kingdom  2008      15.0         13.5         16.1</span>
<span class="co">#&gt; 10 United Kingdom  2009      14.5         13.1         15.9</span>
<span class="co">#&gt; # â€¦ with 123 more rows</span></pre></div>
<p>Here <code>e_inc_num</code> is used rather than <code>e_inc_100k</code> as incidence rates are being estimated based on notified cases. This allows country level rates to be compared to regional (using <code>compare_to_region = TRUE</code>) and global (using <code>compare_to_world = TRUE</code>) rates.</p>
<p>See <a href="https://www.samabbott.co.uk/getTBinR/reference/index.html">Functions</a> for more details of the functions used (note the fuzzy country matching, all functions will try to exactly match your country request and if that fails will search for partial matches) and for more package functionality. We could make the plots above interactive by specifying <code>interactive = TRUE</code></p>
</div>
<div id="additional-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-datasets" class="anchor"></a>Additional datasets</h2>
<p>On top of the core datasets provided by default, <code>getTBinR</code> also supports importing multiple other datasets. These include data on latent TB, HIV surveillance, intervention budgets, and outcomes. The currently supported datasets are listed below,</p>
<div class="sourceCode" id="cb10"><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="no"><a href="reference/available_datasets.html">available_datasets</a></span>[, <span class="fl">1</span>:<span class="fl">4</span>])</pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="81%">
<col width="3%">
<col width="2%">
</colgroup>
<thead><tr class="header">
<th align="left">dataset</th>
<th align="left">description</th>
<th align="left">timespan</th>
<th align="left">default</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Estimates</td>
<td align="left">Generated estimates of TB mortality, incidence, case fatality ratio, and treatment coverage (previously called case detection rate). Data available split by HIV status.</td>
<td align="left">2000-2018</td>
<td align="left">yes</td>
</tr>
<tr class="even">
<td align="left">Estimates</td>
<td align="left">Generated estimates for the proportion of TB cases that have rifampicin-resistant TB (RR-TB, which includes cases with multidrug-resistant TB, MDR-TB), RR/MDR-TB among notified pulmonary TB cases.</td>
<td align="left">2018</td>
<td align="left">yes</td>
</tr>
<tr class="odd">
<td align="left">Incidence by age and sex</td>
<td align="left">Generated estimates of TB incidence stratified by age and sex. This dataset is currently experimental.</td>
<td align="left">2018</td>
<td align="left">no</td>
</tr>
<tr class="even">
<td align="left">Latent TB infection</td>
<td align="left">Generated estimates incidence of latent TB stratified by age.</td>
<td align="left">2018</td>
<td align="left">no</td>
</tr>
<tr class="odd">
<td align="left">Notification</td>
<td align="left">TB notification dataset linking to TB notifications as raw numbers. Age-stratified, with good data dictionary coverage but has large amounts of missing data.</td>
<td align="left">1980-2018</td>
<td align="left">no</td>
</tr>
<tr class="even">
<td align="left">Drug resistance surveillance</td>
<td align="left">Country level drug resistance surveillance. Lists drug resistance data from country level reporting. Good data dictionary coverage but has large amounts of missing data.</td>
<td align="left">2018</td>
<td align="left">no</td>
</tr>
<tr class="odd">
<td align="left">Non-routine HIV surveillance</td>
<td align="left">Country level, non-routine HIV surveillance data. Good data dictionary coverage but with a large amount of missing data.</td>
<td align="left">2007-2018</td>
<td align="left">no</td>
</tr>
<tr class="even">
<td align="left">Outcomes</td>
<td align="left">Country level TB outcomes data. Lists numeric outcome data, very messy but with good data dictionary coverage.</td>
<td align="left">1994-2018</td>
<td align="left">no</td>
</tr>
<tr class="odd">
<td align="left">Budget</td>
<td align="left">Current year TB intervention budgets per country. Many of the data fields are cryptic but has good data dictionary coverage.</td>
<td align="left">2018</td>
<td align="left">no</td>
</tr>
<tr class="even">
<td align="left">Expenditure and utilisation</td>
<td align="left">Previous year expenditure on TB interventions. Highly detailed, with good data dictionary coverage but lots of missing data.</td>
<td align="left">2018</td>
<td align="left">no</td>
</tr>
<tr class="odd">
<td align="left">Policies and services</td>
<td align="left">Lists TB policies that have been implemented per country. Highly detailed, with good data dictionary coverage but lots of missing data.</td>
<td align="left">2018</td>
<td align="left">no</td>
</tr>
<tr class="even">
<td align="left">Community engagement</td>
<td align="left">Lists community engagement programmes. Highly detailed, with good data dictionary coverage but lots of missing data.</td>
<td align="left">2013-2018</td>
<td align="left">no</td>
</tr>
<tr class="odd">
<td align="left">Laboratories</td>
<td align="left">Country specific laboratory data. Highly detailed, with good data dictionary coverage but lots of missing data.</td>
<td align="left">2009-2018</td>
<td align="left">no</td>
</tr>
</tbody>
</table>
<p>These datasets can be imported into <code>R</code> by supplying the name of the required dataset to the <code>additional_datasets</code> argument of <code>get_tb_burden</code> (or any of the various plotting/summary functions). Alternatively, they can all be imported in one go using <code>additional_datasets = "all"</code>, as below,</p>
<div class="sourceCode" id="cb11"><pre class="r"><span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/get_tb_burden.html">get_tb_burden</a></span>(<span class="kw">additional_datasets</span> <span class="kw">=</span> <span class="st">"all"</span>)
<span class="co">#&gt; # A tibble: 8,694 x 485</span>
<span class="co">#&gt;    country iso2  iso3  iso_numeric g_whoregion  year e_pop_num e_inc_100k</span>
<span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;       &lt;int&gt;     &lt;int&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Afghanâ€¦ AF    AFG             4 Eastern Meâ€¦  2000  20779953        190</span>
<span class="co">#&gt;  2 Afghanâ€¦ AF    AFG             4 Eastern Meâ€¦  2001  21606988        189</span>
<span class="co">#&gt;  3 Afghanâ€¦ AF    AFG             4 Eastern Meâ€¦  2002  22600770        189</span>
<span class="co">#&gt;  4 Afghanâ€¦ AF    AFG             4 Eastern Meâ€¦  2003  23680871        189</span>
<span class="co">#&gt;  5 Afghanâ€¦ AF    AFG             4 Eastern Meâ€¦  2004  24726684        189</span>
<span class="co">#&gt;  6 Afghanâ€¦ AF    AFG             4 Eastern Meâ€¦  2005  25654277        189</span>
<span class="co">#&gt;  7 Afghanâ€¦ AF    AFG             4 Eastern Meâ€¦  2006  26433049        189</span>
<span class="co">#&gt;  8 Afghanâ€¦ AF    AFG             4 Eastern Meâ€¦  2007  27100536        189</span>
<span class="co">#&gt;  9 Afghanâ€¦ AF    AFG             4 Eastern Meâ€¦  2008  27722276        189</span>
<span class="co">#&gt; 10 Afghanâ€¦ AF    AFG             4 Eastern Meâ€¦  2009  28394813        189</span>
<span class="co">#&gt; # â€¦ with 8,684 more rows, and 477 more variables: e_inc_100k_lo &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_inc_100k_hi &lt;dbl&gt;, e_inc_num &lt;int&gt;, e_inc_num_lo &lt;int&gt;,</span>
<span class="co">#&gt; #   e_inc_num_hi &lt;int&gt;, e_tbhiv_prct &lt;dbl&gt;, e_tbhiv_prct_lo &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_tbhiv_prct_hi &lt;dbl&gt;, e_inc_tbhiv_100k &lt;dbl&gt;, e_inc_tbhiv_100k_lo &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_inc_tbhiv_100k_hi &lt;dbl&gt;, e_inc_tbhiv_num &lt;int&gt;, e_inc_tbhiv_num_lo &lt;int&gt;,</span>
<span class="co">#&gt; #   e_inc_tbhiv_num_hi &lt;int&gt;, e_mort_exc_tbhiv_100k &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_mort_exc_tbhiv_100k_lo &lt;dbl&gt;, e_mort_exc_tbhiv_100k_hi &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_mort_exc_tbhiv_num &lt;int&gt;, e_mort_exc_tbhiv_num_lo &lt;int&gt;,</span>
<span class="co">#&gt; #   e_mort_exc_tbhiv_num_hi &lt;int&gt;, e_mort_tbhiv_100k &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_mort_tbhiv_100k_lo &lt;dbl&gt;, e_mort_tbhiv_100k_hi &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_mort_tbhiv_num &lt;int&gt;, e_mort_tbhiv_num_lo &lt;int&gt;,</span>
<span class="co">#&gt; #   e_mort_tbhiv_num_hi &lt;int&gt;, e_mort_100k &lt;dbl&gt;, e_mort_100k_lo &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_mort_100k_hi &lt;dbl&gt;, e_mort_num &lt;int&gt;, e_mort_num_lo &lt;int&gt;,</span>
<span class="co">#&gt; #   e_mort_num_hi &lt;int&gt;, cfr &lt;dbl&gt;, cfr_lo &lt;dbl&gt;, cfr_hi &lt;dbl&gt;, cfr_pct &lt;int&gt;,</span>
<span class="co">#&gt; #   cfr_pct_lo &lt;int&gt;, cfr_pct_hi &lt;int&gt;, c_newinc_100k &lt;dbl&gt;, c_cdr &lt;dbl&gt;,</span>
<span class="co">#&gt; #   c_cdr_lo &lt;dbl&gt;, c_cdr_hi &lt;dbl&gt;, source_rr_new &lt;chr&gt;,</span>
<span class="co">#&gt; #   source_drs_coverage_new &lt;chr&gt;, source_drs_year_new &lt;int&gt;,</span>
<span class="co">#&gt; #   e_rr_pct_new &lt;dbl&gt;, e_rr_pct_new_lo &lt;dbl&gt;, e_rr_pct_new_hi &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_mdr_pct_rr_new &lt;int&gt;, source_rr_ret &lt;chr&gt;, source_drs_coverage_ret &lt;chr&gt;,</span>
<span class="co">#&gt; #   source_drs_year_ret &lt;int&gt;, e_rr_pct_ret &lt;dbl&gt;, e_rr_pct_ret_lo &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_rr_pct_ret_hi &lt;dbl&gt;, e_mdr_pct_rr_ret &lt;int&gt;, e_inc_rr_num &lt;int&gt;,</span>
<span class="co">#&gt; #   e_inc_rr_num_lo &lt;int&gt;, e_inc_rr_num_hi &lt;int&gt;, e_mdr_pct_rr &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_rr_in_notified_labconf_pulm &lt;int&gt;,</span>
<span class="co">#&gt; #   e_rr_in_notified_labconf_pulm_lo &lt;int&gt;,</span>
<span class="co">#&gt; #   e_rr_in_notified_labconf_pulm_hi &lt;int&gt;, source_hh &lt;chr&gt;, e_hh_size &lt;dbl&gt;,</span>
<span class="co">#&gt; #   prevtx_data_available &lt;int&gt;, newinc_con04_prevtx &lt;int&gt;,</span>
<span class="co">#&gt; #   ptsurvey_newinc &lt;int&gt;, ptsurvey_newinc_con04_prevtx &lt;int&gt;,</span>
<span class="co">#&gt; #   e_prevtx_eligible &lt;dbl&gt;, e_prevtx_eligible_lo &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_prevtx_eligible_hi &lt;dbl&gt;, e_prevtx_kids_pct &lt;dbl&gt;,</span>
<span class="co">#&gt; #   e_prevtx_kids_pct_lo &lt;dbl&gt;, e_prevtx_kids_pct_hi &lt;dbl&gt;, new_sp &lt;int&gt;,</span>
<span class="co">#&gt; #   new_sn &lt;int&gt;, new_su &lt;int&gt;, new_ep &lt;int&gt;, new_oth &lt;int&gt;, ret_rel &lt;int&gt;,</span>
<span class="co">#&gt; #   ret_taf &lt;int&gt;, ret_tad &lt;int&gt;, ret_oth &lt;int&gt;, newret_oth &lt;int&gt;,</span>
<span class="co">#&gt; #   new_labconf &lt;int&gt;, new_clindx &lt;int&gt;, ret_rel_labconf &lt;int&gt;,</span>
<span class="co">#&gt; #   ret_rel_clindx &lt;int&gt;, ret_rel_ep &lt;int&gt;, ret_nrel &lt;int&gt;,</span>
<span class="co">#&gt; #   notif_foreign &lt;int&gt;, c_newinc &lt;int&gt;, new_sp_m04 &lt;int&gt;, new_sp_m514 &lt;int&gt;,</span>
<span class="co">#&gt; #   new_sp_m014 &lt;int&gt;, new_sp_m1524 &lt;int&gt;, new_sp_m2534 &lt;int&gt;,</span>
<span class="co">#&gt; #   new_sp_m3544 &lt;int&gt;, new_sp_m4554 &lt;int&gt;, â€¦</span></pre></div>
<p>Once imported, these datasets can be used in the plotting and summary functions provided by <code>getTBinR</code> (by passing them to their <code>df</code> argument or using the <code>additional_datasets</code> argument in each function). See the contributing section if their are any other datasets that you think <code>getTBinR</code> should support or if you have suggestions for better descriptions for each dataset.</p>
</div>
<div id="who-inspired-themes-and-palettes" class="section level2">
<h2 class="hasAnchor">
<a href="#who-inspired-themes-and-palettes" class="anchor"></a>WHO-inspired themes and palettes.</h2>
<p>The WHO makes use of several standardised plot themes and colour palettes. <code>getTBinR</code> implements these so that the package can be easily used internally at the WHO or by those collaborating with the WHO.</p>
<div class="sourceCode" id="cb12"><pre class="r"><span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/plot_tb_burden_summary.html">plot_tb_burden_summary</a></span>(<span class="kw">countries</span> <span class="kw">=</span> <span class="st">"United Kingdom"</span>,
                                 <span class="kw">compare_all_regions</span> <span class="kw">=</span> <span class="fl">FALSE</span>,
                                 <span class="kw">compare_to_region</span> <span class="kw">=</span> <span class="fl">TRUE</span>) +
  <span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/theme_who.html">theme_who</a></span>() +
  <span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/scale_colour_who.html">scale_colour_who</a></span>(<span class="kw">reverse</span> <span class="kw">=</span> <span class="fl">TRUE</span>) +
  <span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/scale_fill_who.html">scale_fill_who</a></span>(<span class="kw">reverse</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></div>
<p><img src="reference/figures/who-theme-example-1.png"><!-- --></p>
</div>
<div id="shiny-dashboard" class="section level2">
<h2 class="hasAnchor">
<a href="#shiny-dashboard" class="anchor"></a>Shiny dashboard</h2>
<p>To explore the package functionality in an interactive session, or to investigate TB without having to code extensively in R, a shiny dashboard has been built into the package. This can either be used locally using,</p>
<div class="sourceCode" id="cb13"><pre class="r"><span class="kw pkg">getTBinR</span><span class="kw ns">::</span><span class="fu"><a href="reference/run_tb_dashboard.html">run_tb_dashboard</a></span>()</pre></div>
<p>Or accessed <a href="http://www.seabbs.co.uk/shiny/ExploreGlobalTB">online</a>. Any metric in the WHO data can be explored, with country selection using the built in map, and animation possible by year.</p>
<p><img src="reference/figures/ExploreGlobalTB.png" alt="Snapshot of the integrated dashboard."></p>
</div>
<div id="country-report" class="section level2">
<h2 class="hasAnchor">
<a href="#country-report" class="anchor"></a>Country report</h2>
<p>To get a detailed overview of TB in a country of your choice run the following, alternatively available from the built in dashboard above.</p>
<div class="sourceCode" id="cb14"><pre class="r"><span class="co">## Code saves report into your current working directory</span>
<span class="fu"><a href="reference/render_country_report.html">render_country_report</a></span>(<span class="kw">country</span> <span class="kw">=</span> <span class="st">"United Kingdom"</span>, <span class="kw">save_dir</span> <span class="kw">=</span> <span class="st">"."</span>)</pre></div>
<p><img src="reference/figures/ExampleCountryReport.png" alt="Example report for the United Kingdom."></p>
</div>
<div id="contributing" class="section level2">
<h2 class="hasAnchor">
<a href="#contributing" class="anchor"></a>Contributing</h2>
<p>File an issue <a href="https://github.com/seabbs/getTBinR/issues">here</a> if there is a feature, or a dataset, that you think is missing from the package, or better yet submit a pull request!</p>
<p>Please note that the <code>getTBinR</code> project is released with a <a href="https://github.com/seabbs/getTBinR/blob/master/.github/CODE_OF_CONDUCT.md">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div id="citing" class="section level2">
<h2 class="hasAnchor">
<a href="#citing" class="anchor"></a>Citing</h2>
<p>If using <code>getTBinR</code> please consider citing the package in the relevant work. Citation information can be generated in R using the following (after installing the package),</p>
<div class="sourceCode" id="cb15"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/citation.html">citation</a></span>(<span class="st">"getTBinR"</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; To cite getTBinR in publications use:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Sam Abbott (2019). getTBinR: an R package for accessing and</span>
<span class="co">#&gt;   summarising the World Health Organisation Tuberculosis data Journal</span>
<span class="co">#&gt;   of Open Source Software, 4(34), 1260. doi: 10.21105/joss.01260</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; A BibTeX entry for LaTeX users is</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   @Article{,</span>
<span class="co">#&gt;     title = {getTBinR: an R package for accessing and summarising the World Health Organisation Tuberculosis data},</span>
<span class="co">#&gt;     author = {Sam Abbott},</span>
<span class="co">#&gt;     journal = {Journal of Open Source Software},</span>
<span class="co">#&gt;     year = {2019},</span>
<span class="co">#&gt;     volume = {4},</span>
<span class="co">#&gt;     number = {34},</span>
<span class="co">#&gt;     pages = {1260},</span>
<span class="co">#&gt;     doi = {10.21105/joss.01260},</span>
<span class="co">#&gt;   }</span></pre></div>
</div>
<div id="docker" class="section level2">
<h2 class="hasAnchor">
<a href="#docker" class="anchor"></a>Docker</h2>
<p>This package has been developed in docker based on the <code>rocker/tidyverse</code> image, to access the development environment enter the following at the command line (with an active docker daemon running),</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1"></a><span class="ex">docker</span> pull seabbs/gettbinr</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="ex">docker</span> run -d -p 8787:8787 -e USER=getTBinR -e PASSWORD=getTBinR --name getTBinR seabbs/gettbinr</span></code></pre></div>
<p>The rstudio client can be accessed on port <code>8787</code> at <code>localhost</code> (or your machines ip). The default username is getTBinR and the default password is getTBinR. Alternatively, access the development environment via <a href="https://mybinder.org/v2/gh/seabbs/getTBinR/master?urlpath=rstudio">binder</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=getTBinR">https://â€‹cloud.r-project.org/â€‹package=getTBinR</a>
</li>
<li>Browse source code at <br><a href="https://github.com/seabbs/getTBinR/">https://â€‹github.com/â€‹seabbs/â€‹getTBinR/â€‹</a>
</li>
<li>Report a bug at <br><a href="https://github.com/seabbs/getTBinR/issues">https://â€‹github.com/â€‹seabbs/â€‹getTBinR/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing getTBinR</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Sam Abbott <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8057-8037" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://mybinder.org/v2/gh/seabbs/getTBinR/master?urlpath=rstudio"><img src="https://img.shields.io/badge/Launch-getTBinR-blue.svg" alt="badge"></a></li>
<li><a href="https://CRAN.R-project.org/package=getTBinR"><img src="http://www.r-pkg.org/badges/version-ago/getTBinR" alt="CRAN_Release_Badge"></a></li>
<li><a href="https://github.com/seabbs/getTBinR"><img src="https://img.shields.io/badge/devel%20version-0.7.1-blue.svg?style=flat" alt="develVersion"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/112591837"><img src="https://zenodo.org/badge/112591837.svg" alt="DOI"></a></li>
<li><a href="https://doi.org/10.21105/joss.01260"><img src="http://joss.theoj.org/papers/10.21105/joss.01260/status.svg" alt="DOI"></a></li>
<li><a href="https://cran.r-project.org/package=getTBinR"><img src="http://cranlogs.r-pkg.org/badges/getTBinR" alt="metacran monthly downloads"></a></li>
<li><a href="https://cran.r-project.org/package=getTBinR"><img src="http://cranlogs.r-pkg.org/badges/grand-total/getTBinR?color=ff69b4" alt="metacran downloads"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Sam Abbott.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '6c737a6c632ea7eab75c912a6b07b5f1',
    indexName: 'gettbinr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
